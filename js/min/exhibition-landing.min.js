/*! bh.org.il 2022-02-20 */

var $=jQuery,BH_landing={params:{window_width:0,breakpoint:"",prev_breakpoint:"",timeout:400,interval:""},init:function(){BH_landing.menuScroll(),BH_landing.scrollTop(),BH_landing.mobileMenu(),BH_landing.video(),BH_landing.visitInfo(),BH_landing.googleMaps()},menuScroll:function(){$("li.anchor a, a.anu-btn.anchor").on("click",function(n){n.preventDefault();var e=$(this.hash),i=this.hash;if(e.length)return $("html, body").animate({scrollTop:e.offset().top},1e3),window.history.pushState("","",i),menu.hide(),!1})},scrollTop:function(){$(".scroll-top").on("click",function(n){return n.preventDefault(),$("html, body").animate({scrollTop:0},1e3),!1})},mobileMenu:function(){var n=$(".menu-hamburger"),e=$(".mobile-menu-wrap"),i=e.find(".menu-close"),o=e.find(".mobile-menu li");n.on("click",function(){e.toggle()}),i.on("click",function(){e.toggle()}),o.on("click",function(){e.toggle()})},video:function(){BH_landing.videoResponsive(),$(".video-poster").on("click",function(){BH_landing.videoClicked($(this))}),BH_landing.videoMoreInfo()},videoResponsive:function(){$(".landing-wrapper").find("iframe, object, embed").each(function(){if(!$(this).hasClass("no-flex")){var n=$(this).closest(".video-single").data("video");$(this).wrap("<div class='flex-video'></div>"),$('<button class="video-poster" style="background-image: url(\'https://i.ytimg.com/vi/'+n+'/maxresdefault.jpg\');""></button>').appendTo($(this).parent())}})},videoClicked:function(n){var e=n.closest(".video-single"),i=e.data("video"),o=e.find("iframe");if(!e.hasClass("active")){e.addClass("active");var a="https://www.youtube.com/embed/"+i+"/?autoplay=1&showinfo=0&rel=0&modestbranding=1&cc_load_policy=1&origin="+window.location.origin+"&wmode=transparent";o.attr("src",a),o.attr("wmode","Opaque"),dataLayer=[{event:"video_"+i+"_click",eventAction:"click"}]}},videoMoreInfo:function(){$(".more-info").click(function(){current=$(this).closest(".content-wrap"),current.toggleClass("open")})},visitInfo:function(){var n=$(".visit-info").find(".title"),i=$(".visit-info").find(".map-wrap");n.on("click",function(){var n=$(this),e=n.next(".info");n.toggleClass("open"),e.toggleClass("exposed"),n.hasClass("map")&&i.toggleClass("exposed")})},googleMaps:function(){"undefined"!=typeof googleMapsData&&void 0!==googleMapsData._googleMapsApi&&$(".acf-map").each(function(){BH_landing.initMap($(this))})},initMap:function(n){var e=n.find(".marker"),i={zoom:n.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(n[0],i);return o.markers=[],e.each(function(){BH_landing.initMarker($(this),o)}),BH_landing.centerMap(o),o},initMarker:function(n,e){var i=n.data("lat"),o=n.data("lng"),a={lat:parseFloat(i),lng:parseFloat(o)},t=new google.maps.Marker({position:a,map:e});if(e.markers.push(t),n.html()){var l=new google.maps.InfoWindow({content:n.html()});google.maps.event.addListener(t,"click",function(){l.open(e,t)})}},centerMap:function(n){var e=new google.maps.LatLngBounds;n.markers.forEach(function(n){e.extend({lat:n.position.lat(),lng:n.position.lng()})}),1==n.markers.length?n.setCenter(e.getCenter()):n.fitBounds(e)},banner_top:function(){var n=$("header");$(".banner").css("padding-top",n.height())},breakpoint_refreshValue:function(){var n=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"").replace(/\'/g,"");BH_landing.params.prev_breakpoint=BH_landing.params.breakpoint,BH_landing.params.breakpoint=n},loopSlideshows:function(){var n=$(".cycle-slideshow");n.length&&(BH_landing.params.interval=setTimeout(function(){n.cycle("next"),BH_landing.loopSlideshows()},5e3))},loaded:function(){BH_landing.params.window_width=$(window).width(),$(window).resize(function(){BH_landing.params.window_width!=$(window).width()&&(BH_landing.alignments(),BH_landing.params.window_width=$(window).width())}),BH_landing.alignments()},alignments:function(){BH_landing.breakpoint_refreshValue(),BH_landing.banner_top();var n=$(".cycle-slideshow");""!==BH_landing.params.interval&&clearTimeout(BH_landing.params.interval),n.length&&(n.cycle("reinit"),BH_landing.loopSlideshows())}};!function(n){function e(){}for(var i,o="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=o.pop();)n[i]=n[i]||e}(function(){try{return console.log(),window.console}catch(n){return window.console={}}}()),$(BH_landing.init),$(window).load(BH_landing.loaded);