/*! bh.org.il 2021-02-28 */

var $=jQuery,BH_landing={params:{window_width:0,breakpoint:"",prev_breakpoint:"",timeout:400,interval:""},init:function(){BH_landing.menuScroll(),BH_landing.scrollTop(),BH_landing.mobileMenu(),BH_landing.video(),BH_landing.visitInfo(),BH_landing.googleMaps()},menuScroll:function(){$("li.anchor a, a.anu-btn.anchor").on("click",function(n){n.preventDefault();var o=$(this.hash),e=this.hash;if(o.length)return $("html, body").animate({scrollTop:o.offset().top},1e3),window.history.pushState("","",e),menu.hide(),!1})},scrollTop:function(){$(".scroll-top").on("click",function(n){return n.preventDefault(),$("html, body").animate({scrollTop:0},1e3),!1})},mobileMenu:function(){var n=$(".menu-hamburger"),o=$(".mobile-menu-wrap"),e=o.find(".menu-close"),i=o.find(".mobile-menu li");n.on("click",function(){o.toggle()}),e.on("click",function(){o.toggle()}),i.on("click",function(){o.toggle()})},video:function(){BH_landing.videoResponsive(),$(".video-poster").on("click",function(){BH_landing.videoClicked($(this))}),BH_landing.videoMoreInfo()},videoResponsive:function(){$(".landing-wrapper").find("iframe, object, embed").each(function(){if(!$(this).hasClass("no-flex")){var n=$(this).closest(".video-single").data("video");$(this).wrap("<div class='flex-video'></div>"),$('<button class="video-poster" style="background-image: url(\'https://i.ytimg.com/vi/'+n+'/maxresdefault.jpg\');""></button>').appendTo($(this).parent())}})},videoClicked:function(n){var o=n.closest(".video-single"),e=o.data("video"),i=o.find("iframe");if(!o.hasClass("active")){o.addClass("active");var a="https://www.youtube.com/embed/"+e+"/?autoplay=1&showinfo=0&rel=0&modestbranding=1&cc_load_policy=1&origin="+window.location.origin+"&wmode=transparent";i.attr("src",a),i.attr("wmode","Opaque")}},videoMoreInfo:function(){$(".more-info").click(function(){current=$(this).closest(".content-wrap"),current.toggleClass("open")})},visitInfo:function(){var n=$(".visit-info").find(".title"),e=$(".visit-info").find(".map-wrap");n.on("click",function(){var n=$(this),o=n.next(".info");n.toggleClass("open"),o.toggleClass("exposed"),n.hasClass("map")&&e.toggleClass("exposed")})},googleMaps:function(){"undefined"!=typeof googleMapsData&&void 0!==googleMapsData._googleMapsApi&&$(".acf-map").each(function(){BH_landing.initMap($(this))})},initMap:function(n){var o=n.find(".marker"),e={zoom:n.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(n[0],e);return i.markers=[],o.each(function(){BH_landing.initMarker($(this),i)}),BH_landing.centerMap(i),i},initMarker:function(n,o){var e=n.data("lat"),i=n.data("lng"),a={lat:parseFloat(e),lng:parseFloat(i)},t=new google.maps.Marker({position:a,map:o});if(o.markers.push(t),n.html()){var l=new google.maps.InfoWindow({content:n.html()});google.maps.event.addListener(t,"click",function(){l.open(o,t)})}},centerMap:function(n){var o=new google.maps.LatLngBounds;n.markers.forEach(function(n){o.extend({lat:n.position.lat(),lng:n.position.lng()})}),1==n.markers.length?n.setCenter(o.getCenter()):n.fitBounds(o)},breakpoint_refreshValue:function(){var n=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"").replace(/\'/g,"");BH_landing.params.prev_breakpoint=BH_landing.params.breakpoint,BH_landing.params.breakpoint=n},loopSlideshows:function(){var n=$(".cycle-slideshow");n.length&&(BH_landing.params.interval=setTimeout(function(){n.cycle("next"),BH_landing.loopSlideshows()},5e3))},loaded:function(){BH_landing.params.window_width=$(window).width(),$(window).resize(function(){BH_landing.params.window_width!=$(window).width()&&(BH_landing.alignments(),BH_landing.params.window_width=$(window).width())}),BH_landing.alignments()},alignments:function(){BH_landing.breakpoint_refreshValue();var n=$(".cycle-slideshow");""!==BH_landing.params.interval&&clearTimeout(BH_landing.params.interval),n.length&&(n.cycle("reinit"),BH_landing.loopSlideshows())}};!function(n){function o(){}for(var e,i="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");e=i.pop();)n[e]=n[e]||o}(function(){try{return console.log(),window.console}catch(n){return window.console={}}}()),$(BH_landing.init),$(window).load(BH_landing.loaded);