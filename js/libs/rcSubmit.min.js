var rcSubmitDirective={rcSubmit:["$parse","$q","$timeout",function(t,n,e){return{restrict:"A",require:["rcSubmit","?form"],controller:["$scope",function(){var t=null,n=null,e=[],i=[];this.attempted=!1,this.submitInProgress=!1,this.setFormElement=function(n){t=n},this.submit=function(){t&&jQuery(t).submit()},this.onAttempt=function(t){e.push(t)},this.setAttempted=function(){this.attempted=!0,angular.forEach(e,function(t){t()})},this.setFormController=function(t){n=t},this.needsAttention=function(t){return n?t?t.$invalid&&(t.$dirty||this.attempted):n&&n.$invalid&&(n.$dirty||this.attempted):!1},this.onSubmitComplete=function(t){i.push(t)},this.setSubmitComplete=function(t,n){angular.forEach(i,function(e){e({success:t,data:n})})}}],compile:function(){return{pre:function(t,n,e,i){var r=i[0],s=i.length>1?i[1]:null;r.setFormElement(n),r.setFormController(s),t.rc=t.rc||{},t.rc[e.name]=r},post:function(i,r,s,u){var o=u[0],c=u.length>1?u[1]:null,m=t(s.rcSubmit);r.bind("submit",function(t){if(o.setAttempted(),i.$$phase||i.$apply(),!c.$valid)return!1;var r=function(){o.submitInProgress=!0,i.$$phase||i.$apply();var r=n.when(m(i,{$event:t}));r.then(function(t){o.submitInProgress=!1,i.$$phase||i.$apply(),e(function(){o.setSubmitComplete(!0,t)})},function(t){o.submitInProgress=!1,i.$$phase||i.$apply(),e(function(){o.setSubmitComplete(!1,t)})})};i.$$phase?(r(),i.$$phase||i.$apply()):i.$apply(r)})}}}}}]};